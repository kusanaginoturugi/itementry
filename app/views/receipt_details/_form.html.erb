<%= form_with(model: receipt_detail, class: "card shadow-sm") do |form| %>
  <div class="card-body">
  <% if receipt_detail.errors.any? %>
    <div class="alert alert-danger">
      <h2 class="h6 fw-semibold"><%= "#{receipt_detail.errors.count}件のエラーにより保存できませんでした。" %></h2>

      <ul class="mb-0">
        <% receipt_detail.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

    <div class="mb-3">
      <%= form.label :receipt_id, "レシートID", class: "form-label" %>
      <%= form.number_field :receipt_id, class: "form-control", min: 1, step: 1, required: true %>
    </div>

    <div class="mb-3">
      <%= form.label :item_id, "商品ID", class: "form-label" %>
      <%= form.number_field :item_id, class: "form-control", min: 1, step: 1, required: true %>
    </div>

    <div class="mb-3">
      <%= form.label :item_name, "商品名", class: "form-label" %>
      <%= form.text_area :item_name, class: "form-control", rows: 2 %>
    </div>

    <div class="row">
      <div class="col-md-4 mb-3">
        <%= form.label :count, "個数", class: "form-label" %>
        <%= form.number_field :count, class: "form-control", min: 0, step: 1, required: true %>
      </div>

      <div class="col-md-4 mb-3">
        <%= form.label :value, "単価", class: "form-label" %>
        <%= form.number_field :value, class: "form-control", min: 0, step: 1, required: true %>
      </div>

      <div class="col-md-4 mb-4">
        <%= form.label :sum_value, "小計", class: "form-label" %>
        <%= form.number_field :sum_value, class: "form-control", min: 0, step: 1, required: true %>
      </div>
    </div>

    <div class="d-flex gap-2">
      <%= form.submit "保存する", class: "btn btn-primary" %>
      <%= link_to "戻る", receipt_detail.persisted? ? receipt_detail : receipt_details_path, class: "btn btn-outline-secondary" %>
    </div>
  </div>
<% end %>
